<div class="wrapper"
     scroll>
  <canvas paint></canvas>
  <video #video="video"
         [src]="src$ | push"></video>
</div>

<div>
  <input type="file"
         multiple
         ngModel
         (ngModelChange)="filesInput.next($event)">

  <color-selector></color-selector>

  <input type="range"
         min="0.1"
         max="50"
         [ngModel]="brush.size$ | push"
         (ngModelChange)="brush.size$.next($event)">

  <select [ngModel]="brush.compositeOperation$ | push"
          (ngModelChange)="brush.compositeOperation$.next($event)">
    <option *ngFor="let item of brush.compositeOperations"
            [ngValue]="item.value">{{ item.name }}</option>
  </select>

  <button (click)="video.play()">play</button>
  <button (click)="video.pause()">pause</button>
</div>

<!-- <div>
  <button (click)="comments.clear$.next()">clear</button>
</div> -->

<div>
  <span>frame rate: {{ fps$ | push }}</span>
  <select [formControl]="frameRate.control">
    <option *ngFor="let item of frameRates"
            [ngValue]="item.value">{{ item.name }}</option>
  </select>
  <input [value]="frameRate.control.value"
         type="number"
         [formControl]="frameRate.control">
</div>


<span>Time:

  <ng-container>{{ currentTime$ | push | timecode : (fps$ | push) }}</ng-container>
</span>
<span>Frame:

  <ng-container>{{ currentFrame$ | push }}</ng-container>

  /

  <ng-container>{{ totalFrames$ | push }}</ng-container>
</span>


<div>
  <timeline></timeline>
</div>

<div>
  <button (click)="comments.save$.next()"
          [file]="(comments.file$ | push)">Save</button>
</div>
