<div class="wrapper">
  <canvas context2d></canvas>
  <video #video="video"
         [src]="src$ | push"></video>
</div>

<div>
  <input type="file"
         ngModel
         (ngModelChange)="videoInput$.next($event)">
  <input type="file"
         ngModel
         (ngModelChange)="player.restore$.next($event)">

  <input type="color"
         [formControl]="color">

  <button (click)="video.play()">play</button>
  <button (click)="video.pause()">pause</button>
</div>

<div>
  <button (click)="player.clear$.next()">clear</button>
</div>

<div>
  <span>frame rate: {{ player.fps$ | push }}</span>
  <select [formControl]="fps">
    <option *ngFor="let item of frameRates"
            [ngValue]="item.value">{{ item.name }}</option>
  </select>
  <input [value]="fps.value"
         type="number"
         [formControl]="fps">
</div>


<span>Time:

  <ng-container>{{ player.currentTime_1$ | push | timecode : (player.fps$ | push) }}</ng-container>
</span>
<span>Frame:

  <ng-container>{{ player.frame$ | push }}</ng-container>

  /

  <ng-container>{{ player.totalFrames$ | push }}</ng-container>
</span>


<div>
  <timeline></timeline>
</div>

<div>
  <button (click)="player.save$.next()"
          [file]="(player.file$ | push)">Save</button>
</div>
